
@{
    ViewData["Title"] = "View";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@using VetClinicCapstone.Models.ViewModel;
@model IEnumerable<JoinAppointPatientOwner>

<div class="container-full">
	<div class="content-header">
		<div class="d-flex align-items-center">
			<div class="mr-auto">
				<h4 class="page-title">Appointment</h4>
			</div>

		</div>
	</div>


	<section class="content">
		<div class="col-12">
			<div class="box">
				<div class="box-body">
					<h4 class="box-title">Approved Appointment List</h4>
					<div class="table-responsive">
						<table class="table table-striped table-hover">
							<thead>
								<tr>
									<th class="bb-2">Owner Name</th>
									<th class="bb-2">Pet Name</th>
									<th class="bb-2">Service</th>
									<th class="bb-2">Date</th>
									<th class="bb-2">Time</th>
									<th class="bb-2">Owner Contact</th>
									<th class="bb-2">Owner Email</th>
									@if(User.IsInRole("Staff"))
									{
									<th class="bb-2">Action</th>
									}
								</tr>
							</thead>
							<tbody>
								@foreach(var item in Model)
								{
									<tr>
										<td>@item.OwnerTbls.Firstname @item.OwnerTbls.Lastname</td>
										<td>@item.PatientTbls.PatientName</td>
										<td>@item.ServiceTbls.ServiceName</td>
										<td>@item.AppointmentTbls.Date.ToString("MMMM dd, yyyy")</td>
										<td>@item.AppointmentTbls.Time</td>
										<td>@item.OwnerTbls.Phone</td>
										<td>@item.OwnerTbls.Email</td>
										@if(User.IsInRole("Staff"))
										{
										<td>
											<a asp-action="CancelAppointment" class="btn-danger btn-sm" asp-controller="Appointment" asp-route-id="@item.AppointmentTbls.Appointment_ID">Cancel</a>
										</td>
										}

									</tr>
								}
							</tbody>
						</table>
					</div>
				</div>
				<!-- /.box-body -->
			</div>
		</div>
	</section>
</div>

<!-- /.content-wrapper -->
<!--Model Popup Area-->
<div class="modal fade Resched" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="display: none;">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="box-title text-info"><i class="ti-user mr-15"></i> Reschedule</h4>
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			</div>
			<div class="modal-body">
				<form method="post" id="submitForm">


				Form

				</form>
			</div>
		</div>
		<!-- /.modal-content -->
	</div>
	<!-- /.modal-dialog -->
</div>
